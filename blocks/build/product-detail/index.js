(()=>{"use strict";var e={609:e=>{e.exports=window.React},455:e=>{e.exports=window.wp.apiFetch},715:e=>{e.exports=window.wp.blockEditor},997:e=>{e.exports=window.wp.blocks},427:e=>{e.exports=window.wp.components},143:e=>{e.exports=window.wp.data},87:e=>{e.exports=window.wp.element},723:e=>{e.exports=window.wp.i18n}},t={};function o(r){var l=t[r];if(void 0!==l)return l.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=o(997),l=o(723),a=o(609),c=o(715),n=o(427),i=o(87),s=o(143),m=o(455),p=o.n(m);const d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"blaze-commerce/product-detail","version":"1.0.0","title":"Product Detail","category":"blazecommerce","icon":"products","description":"Display WooCommerce product details with customizable options","supports":{"html":false,"align":["left","center","right","wide","full"]},"attributes":{"productId":{"type":"number","default":0},"showShortDescription":{"type":"boolean","default":true},"showSku":{"type":"boolean","default":true},"showPrice":{"type":"boolean","default":true},"showStockStatus":{"type":"boolean","default":true},"showStockQuantity":{"type":"boolean","default":false},"showCategories":{"type":"boolean","default":true},"showTags":{"type":"boolean","default":false},"textColor":{"type":"string","default":"#333333"},"fontSize":{"type":"number","default":16},"fontWeight":{"type":"string","default":"normal"},"lineHeight":{"type":"number","default":1.5},"alignment":{"type":"string","default":"left"},"shortDescriptionColor":{"type":"string","default":"#666666"},"shortDescriptionFontSize":{"type":"number","default":14},"priceColor":{"type":"string","default":"#e74c3c"},"priceFontSize":{"type":"number","default":18},"priceFontWeight":{"type":"string","default":"bold"}},"keywords":["product","detail","woocommerce","blaze","short description"],"render":"file:./product-detail-block.php","textdomain":"blaze-commerce","editorScript":"file:./index.js","editorStyle":"file:./editor.css","style":"file:./style.css"}');(0,r.registerBlockType)(d.name,{...d,edit:function({attributes:e,setAttributes:t}){const{productId:o,showShortDescription:r,showSku:m,showPrice:d,showStockStatus:u,showStockQuantity:h,showCategories:g,showTags:_,textColor:b,fontSize:S,fontWeight:w,lineHeight:z,alignment:f,shortDescriptionColor:y,shortDescriptionFontSize:C,priceColor:k,priceFontSize:E,priceFontWeight:v}=e,[x,P]=(0,i.useState)(null),[D,F]=(0,i.useState)(!1),[W,T]=(0,i.useState)([]),I=(0,s.useSelect)((e=>e("core/editor")?.getCurrentPostId()),[]);(0,i.useEffect)((()=>{(async()=>{try{const e=await p()({path:"/wp/v2/product?per_page=100&status=publish"});T(e)}catch(e){console.error("Error loading products:",e);try{const e=await p()({path:"/wc/v3/products?per_page=100&status=publish"});T(e)}catch(e){console.error("Error loading products from WC API:",e)}}})()}),[]),(0,i.useEffect)((()=>{(async()=>{if(o){F(!0);try{const e=await p()({path:`/wp/v2/product/${o}`}),t={id:e.id,name:e.title?.rendered||"",short_description:e.excerpt?.rendered||"",description:e.content?.rendered||"",sku:e.meta?._sku||"",price_html:e.meta?.price_html||"",stock_status:e.meta?._stock_status||"instock",stock_quantity:e.meta?._stock||null,categories:e.product_cat||[],tags:e.product_tag||[]};P(t)}catch(e){console.error("Error loading product data:",e);try{const e=await p()({path:`/wc/v3/products/${o}`});P(e)}catch(e){console.error("Error loading product data from WC API:",e),P(null)}}finally{F(!1)}}else P(null)})()}),[o]),(0,i.useEffect)((()=>{I&&!o&&W.length>0&&W.find((e=>e.id===I))&&t({productId:I})}),[I,o,W,t]);const B=(0,c.useBlockProps)({style:{textAlign:f}}),H=[{label:(0,l.__)("Select a product","blaze-commerce"),value:0},...W.map((e=>({label:e.name,value:e.id})))],O=[{label:(0,l.__)("Normal","blaze-commerce"),value:"normal"},{label:(0,l.__)("Bold","blaze-commerce"),value:"bold"},{label:(0,l.__)("Light","blaze-commerce"),value:"300"},{label:(0,l.__)("Medium","blaze-commerce"),value:"500"},{label:(0,l.__)("Semi Bold","blaze-commerce"),value:"600"},{label:(0,l.__)("Extra Bold","blaze-commerce"),value:"800"}],$=[{label:(0,l.__)("Left","blaze-commerce"),value:"left"},{label:(0,l.__)("Center","blaze-commerce"),value:"center"},{label:(0,l.__)("Right","blaze-commerce"),value:"right"}];return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.InspectorControls,null,(0,a.createElement)(n.PanelBody,{title:(0,l.__)("Product Selection","blaze-commerce"),initialOpen:!0},(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Select Product","blaze-commerce"),value:o,options:H,onChange:e=>t({productId:parseInt(e)}),help:(0,l.__)("Choose which product details to display","blaze-commerce")})),(0,a.createElement)(n.PanelBody,{title:(0,l.__)("Display Options","blaze-commerce"),initialOpen:!0},(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Show Short Description","blaze-commerce"),checked:r,onChange:e=>t({showShortDescription:e}),help:(0,l.__)("Display the product short description","blaze-commerce")}),(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Show SKU","blaze-commerce"),checked:m,onChange:e=>t({showSku:e})}),(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Show Price","blaze-commerce"),checked:d,onChange:e=>t({showPrice:e})}),(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Show Stock Status","blaze-commerce"),checked:u,onChange:e=>t({showStockStatus:e})}),(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Show Stock Quantity","blaze-commerce"),checked:h,onChange:e=>t({showStockQuantity:e}),help:(0,l.__)('Show stock quantity when status is "In Stock"',"blaze-commerce")}),(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Show Categories","blaze-commerce"),checked:g,onChange:e=>t({showCategories:e})}),(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Show Tags","blaze-commerce"),checked:_,onChange:e=>t({showTags:e})})),(0,a.createElement)(n.PanelBody,{title:(0,l.__)("General Styling","blaze-commerce"),initialOpen:!1},(0,a.createElement)("p",null,(0,l.__)("Text Color","blaze-commerce")),(0,a.createElement)(c.ColorPicker,{color:b,onChange:e=>t({textColor:e})}),(0,a.createElement)(n.RangeControl,{label:(0,l.__)("Font Size (px)","blaze-commerce"),value:S,onChange:e=>t({fontSize:e}),min:12,max:32}),(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Font Weight","blaze-commerce"),value:w,options:O,onChange:e=>t({fontWeight:e})}),(0,a.createElement)(n.RangeControl,{label:(0,l.__)("Line Height","blaze-commerce"),value:z,onChange:e=>t({lineHeight:e}),min:1,max:3,step:.1}),(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Text Alignment","blaze-commerce"),value:f,options:$,onChange:e=>t({alignment:e})})),r&&(0,a.createElement)(n.PanelBody,{title:(0,l.__)("Short Description Styling","blaze-commerce"),initialOpen:!1},(0,a.createElement)("p",null,(0,l.__)("Short Description Color","blaze-commerce")),(0,a.createElement)(c.ColorPicker,{color:y,onChange:e=>t({shortDescriptionColor:e})}),(0,a.createElement)(n.RangeControl,{label:(0,l.__)("Short Description Font Size (px)","blaze-commerce"),value:C,onChange:e=>t({shortDescriptionFontSize:e}),min:12,max:24})),d&&(0,a.createElement)(n.PanelBody,{title:(0,l.__)("Price Styling","blaze-commerce"),initialOpen:!1},(0,a.createElement)("p",null,(0,l.__)("Price Color","blaze-commerce")),(0,a.createElement)(c.ColorPicker,{color:k,onChange:e=>t({priceColor:e})}),(0,a.createElement)(n.RangeControl,{label:(0,l.__)("Price Font Size (px)","blaze-commerce"),value:E,onChange:e=>t({priceFontSize:e}),min:12,max:32}),(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Price Font Weight","blaze-commerce"),value:v,options:O,onChange:e=>t({priceFontWeight:e})}))),(0,a.createElement)("div",{...B},o?D?(0,a.createElement)(n.Placeholder,{icon:"products",label:(0,l.__)("Product Detail","blaze-commerce")},(0,a.createElement)(n.Spinner,null)):x?(0,a.createElement)("div",{className:"blaze-product-detail"},(0,a.createElement)("h3",{style:{color:b,fontSize:`${S+4}px`,fontWeight:"bold",margin:"0 0 1rem 0"}},x.name),r&&x.short_description&&(0,a.createElement)("div",{className:"product-short-description",style:{color:y,fontSize:`${C}px`,lineHeight:z,marginBottom:"1rem"},dangerouslySetInnerHTML:{__html:x.short_description}}),m&&x.sku&&(0,a.createElement)("p",{style:{color:b,fontSize:`${S}px`,fontWeight:w,lineHeight:z,margin:"0.5rem 0"}},(0,a.createElement)("strong",null,(0,l.__)("SKU:","blaze-commerce"))," ",x.sku),d&&(0,a.createElement)("p",{className:"product-price",style:{color:k,fontSize:`${E}px`,fontWeight:v,margin:"0.5rem 0"},dangerouslySetInnerHTML:{__html:x.price_html}}),u&&(0,a.createElement)("p",{style:{color:b,fontSize:`${S}px`,fontWeight:w,lineHeight:z,margin:"0.5rem 0"}},(0,a.createElement)("strong",null,(0,l.__)("Stock Status:","blaze-commerce"))," ",(e=>{switch(e){case"instock":return(0,l.__)("In Stock","blaze-commerce");case"outofstock":return(0,l.__)("Out of Stock","blaze-commerce");case"onbackorder":return(0,l.__)("On Backorder","blaze-commerce");default:return e}})(x.stock_status),h&&"instock"===x.stock_status&&x.stock_quantity&&(0,a.createElement)("span",null," ","(",x.stock_quantity," ",(0,l.__)("available","blaze-commerce"),")")),g&&x.categories&&x.categories.length>0&&(0,a.createElement)("p",{style:{color:b,fontSize:`${S}px`,fontWeight:w,lineHeight:z,margin:"0.5rem 0"}},(0,a.createElement)("strong",null,(0,l.__)("Categories:","blaze-commerce"))," ",x.categories.map((e=>e.name)).join(", ")),_&&x.tags&&x.tags.length>0&&(0,a.createElement)("p",{style:{color:b,fontSize:`${S}px`,fontWeight:w,lineHeight:z,margin:"0.5rem 0"}},(0,a.createElement)("strong",null,(0,l.__)("Tags:","blaze-commerce"))," ",x.tags.map((e=>e.name)).join(", "))):(0,a.createElement)("p",{style:{color:"#999",fontStyle:"italic"}},(0,l.__)("Product not found.","blaze-commerce")):(0,a.createElement)(n.Placeholder,{icon:"products",label:(0,l.__)("Product Detail","blaze-commerce"),instructions:(0,l.__)("Select a product from the sidebar to display its details.","blaze-commerce")})))},save:function({attributes:e}){const{productId:t,showShortDescription:o,showSku:r,showPrice:l,showStockStatus:n,showStockQuantity:i,showCategories:s,showTags:m,textColor:p,fontSize:d,fontWeight:u,lineHeight:h,alignment:g,shortDescriptionColor:_,shortDescriptionFontSize:b,priceColor:S,priceFontSize:w,priceFontWeight:z}=e,f=c.useBlockProps.save({className:"blaze-product-detail-block","data-product-id":t,style:{textAlign:g}});return(0,a.createElement)("div",{...f},(0,a.createElement)("div",{className:"blaze-product-detail","data-product-id":t,"data-show-short-description":o,"data-show-sku":r,"data-show-price":l,"data-show-stock-status":n,"data-show-stock-quantity":i,"data-show-categories":s,"data-show-tags":m,"data-text-color":p,"data-font-size":d,"data-font-weight":u,"data-line-height":h,"data-alignment":g,"data-short-description-color":_,"data-short-description-font-size":b,"data-price-color":S,"data-price-font-size":w,"data-price-font-weight":z}))}})})();