(()=>{"use strict";const e=window.React,{PanelBody:t,SelectControl:n,__experimentalUnitControl:l}=wp.components,{__}=wp.i18n,a=({attributes:a,setAttributes:o})=>{const{menuId:r,menuMaxWidth:u}=a,i=(blaze_commerce_block_config.menus||[]).map((e=>({label:e.name,value:e.term_id})));return(0,e.createElement)(t,{title:__("Blaze Commerce - General"),initialOpen:!0},(0,e.createElement)("p",null),(0,e.createElement)(n,{label:"Menu",value:r,options:[{label:"Select a menu",value:""},...i],onChange:e=>o({menuId:e}),__nextHasNoMarginBottom:!0}),(0,e.createElement)("p",null),(0,e.createElement)(l,{label:"Max Width (px)",disableUnits:!0,onChange:e=>o({menuMaxWidth:e}),value:u}))};a.attributeSchema={menuId:{type:"string"},menuMaxWidth:{type:"string",default:"1200x"}};const{useState:o}=wp.element,{PanelBody:r,FontSizePicker:u,SelectControl:i}=wp.components,{__:m}=wp.i18n,c=[{name:m("Extra Small"),slug:"xs",size:12},{name:m("Small"),slug:"sm",size:14},{name:m("Base"),slug:"base",size:16},{name:m("Large"),slug:"lg",size:18},{name:m("Extra Large"),slug:"xl",size:20},{name:m("2x Extra Large"),slug:"2xl",size:24}],s=({attributes:t,setAttributes:n})=>{const{fontSize:l,fontWeight:a,letterCase:o}=t;return(0,e.createElement)(r,{title:m("Blaze Commerce - Typography"),initialOpen:!1},(0,e.createElement)("p",null),(0,e.createElement)(u,{fontSizes:c,value:parseInt(l),fallbackFontSize:16,withReset:!0,withSlider:!1,onChange:e=>n({fontSize:e})}),(0,e.createElement)("p",null),(0,e.createElement)(i,{label:"Font weight",value:a,options:[{label:"Thin",value:"100"},{label:"Extra Light",value:"200"},{label:"Light",value:"300"},{label:"Normal",value:"400"},{label:"Medium",value:"500"},{label:"Semi Bold",value:"600"},{label:"Bold",value:"700"},{label:"Extra Bold",value:"800"}],onChange:e=>n({fontWeight:e}),__nextHasNoMarginBottom:!0}),(0,e.createElement)("p",null),(0,e.createElement)(i,{label:"Letter case",value:o,options:[{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"},{label:"Capitalize",value:"capitalize"}],onChange:e=>n({letterCase:e}),__nextHasNoMarginBottom:!0}))};s.attributeSchema={fontSize:{type:"string",default:"16"},fontWeight:{type:"string",default:"400"},letterCase:{type:"string",default:"none"}};const{useState:d}=wp.element,{ColorPicker:g,Popover:p,Button:b}=wp.components,C=({value:t,setValue:n})=>{const[l,a]=d(!1),[o,r]=d(t),[u,i]=d();console.log("rerendering?");const m=()=>{a(!1)};return console.log("selectedColor",o),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{ref:i,onClick:()=>{console.log("clicked wow"),a(!0)},style:{width:"20px",height:"20px",borderRadius:"9999px",backgroundColor:t,cursor:"pointer",border:"1px solid #e0e0e0"}}),l&&(0,e.createElement)(p,{anchor:u,placement:"bottom-end",position:"top left"},(0,e.createElement)(g,{color:o,onChange:r,enableAlpha:!0,defaultValue:"#000"}),(0,e.createElement)("div",{style:{display:"flex",padding:"0 16px 20px",justifyContent:"flex-end",gap:"10px"}},(0,e.createElement)(b,{isDestructive:!0,size:"compact",onClick:()=>{r(""),n(""),m()}},"Reset"),(0,e.createElement)(b,{variant:"secondary",size:"compact",onClick:m},"Cancel"),(0,e.createElement)(b,{variant:"primary",size:"compact",onClick:()=>{n(o),m()}},"Save"))))},k={top:"0px",left:"0px",right:"0px",bottom:"0px"},{store:E}=wp.editor,{select:v}=wp.data,{PanelBody:y,__experimentalBoxControl:x,__experimentalDivider:h,ToggleControl:L,Flex:B,FlexBlock:w,FlexItem:z}=wp.components,{__:f}=wp.i18n,S=({attributes:t,setAttributes:n})=>{const{menuCentered:l,menuFullWidth:a,mainNavigationBackgroundColor:o,menuLinkColor:r,menuLinkHoverColor:u,menuLinkBackgroundColor:i,menuLinkHoverBackgroundColor:m,mobileMenuLinkColor:c,menuLinkPadding:s,menuLinkMargin:d,menuSeparatorColor:g,menuTextColor:p,menuHoverTextColor:b,menuBackgroundColor:k,menuHoverBackgroundColor:S,menuTextPadding:M,menuTextMargin:_}=t,P="Mobile"===v(E).getDeviceType();return(0,e.createElement)(y,{title:f("Blaze Commerce - Main Menu"),initialOpen:!1},(0,e.createElement)("p",null),(0,e.createElement)(L,{label:"Centered",help:l?"Menu is centered.":"Menu starts on the left.",checked:l,onChange:e=>{n({menuCentered:e})}}),(0,e.createElement)("p",null),(0,e.createElement)(L,{label:"Full Width",help:l?"Menu is full width.":"Menu width is auto.",checked:a,onChange:e=>{n({menuFullWidth:e})}}),(0,e.createElement)(h,null),(0,e.createElement)("p",null),(0,e.createElement)(B,null,(0,e.createElement)(w,null,"Container Background Color"),(0,e.createElement)(z,null,(0,e.createElement)(C,{value:o,setValue:e=>n({mainNavigationBackgroundColor:e})}))),(0,e.createElement)("p",null),(0,e.createElement)(B,null,(0,e.createElement)(w,null,"Link Color"),(0,e.createElement)(z,null,(0,e.createElement)(C,{value:P?c:r||p,setValue:e=>n({[P?"mobileMenuLinkColor":"menuLinkColor"]:e})})),(0,e.createElement)(z,null,(0,e.createElement)(C,{value:u||b,setValue:e=>n({menuLinkHoverColor:e})}))),(0,e.createElement)("p",null),(0,e.createElement)(B,null,(0,e.createElement)(w,null,"Link Background Color"),(0,e.createElement)(z,null,(0,e.createElement)(C,{value:i||k,setValue:e=>n({menuLinkBackgroundColor:e})})),(0,e.createElement)(z,null,(0,e.createElement)(C,{value:m||S,setValue:e=>n({menuLinkHoverBackgroundColor:e})}))),(0,e.createElement)("p",null),(0,e.createElement)(B,null,(0,e.createElement)(w,null,"Link Separator Color"),(0,e.createElement)(z,null,(0,e.createElement)(C,{value:g,setValue:e=>n({menuSeparatorColor:e})}))),(0,e.createElement)(h,null),(0,e.createElement)("p",null),(0,e.createElement)(x,{label:f("Link Padding"),values:s||M,onChange:e=>n({menuLinkPadding:e})}),(0,e.createElement)("p",null),(0,e.createElement)(x,{label:f("Link Margin"),values:d||_,onChange:e=>n({menuLinkMargin:e})}))};S.attributeSchema={menuCentered:{type:"boolean"},menuFullWidth:{type:"boolean"},mainNavigationBackgroundColor:{type:"string"},menuLinkColor:{type:"string"},menuLinkHoverColor:{type:"string"},menuLinkBackgroundColor:{type:"string"},menuLinkHoverBackgroundColor:{type:"string"},mobileMenuLinkColor:{type:"string"},menuLinkPadding:{type:"object",default:k},menuLinkMargin:{type:"object",default:k},menuSeparatorColor:{type:"string"},menuTextColor:{type:"string"},menuHoverTextColor:{type:"string"},menuBackgroundColor:{type:"string"},menuHoverBackgroundColor:{type:"string"},menuTextPadding:{type:"object",default:k},menuTextMargin:{type:"object",default:k}};const{store:M}=wp.editor,{select:_}=wp.data,{PanelBody:P,__experimentalBoxControl:H,__experimentalDivider:T,ToggleControl:F,Flex:W,FlexBlock:j,FlexItem:V}=wp.components,{__:O}=wp.i18n,I=({attributes:t,setAttributes:n})=>{const{submenuFullWidth:l,submenuContainerBackgroundColor:a,submenuLinkColor:o,submenuLinkHoverColor:r,submenuLinkBackgroundColor:u,submenuLinkHoverBackgroundColor:i,mobileSubmenuLinkColor:m,submenuContainerPadding:c,submenuLinkPadding:s,submenuLinkMargin:d,submenuTextColor:g,submenuHoverTextColor:p,submenuBackgroundColor:b,submenuHoverBackgroundColor:k,submenuTextPadding:E,submenuTextMargin:v}=t,y="Mobile"===_(M).getDeviceType();return(0,e.createElement)(P,{title:O("Blaze Commerce - Submenu"),initialOpen:!1},(0,e.createElement)("p",null),(0,e.createElement)(F,{label:"Submenu Full Width",help:l?"Submenu is full width.":"Submenu Menu width is auto.",checked:l,onChange:e=>{n({submenuFullWidth:e})}}),(0,e.createElement)(T,null),(0,e.createElement)("p",null),(0,e.createElement)(W,null,(0,e.createElement)(j,null,"Container Background Color"),(0,e.createElement)(V,null,(0,e.createElement)(C,{value:a,setValue:e=>n({submenuContainerBackgroundColor:e})}))),(0,e.createElement)("p",null),(0,e.createElement)(W,null,(0,e.createElement)(j,null,"Link Color"),(0,e.createElement)(V,null,(0,e.createElement)(C,{value:y?m:o||g,setValue:e=>n({[y?"mobileSubmenuLinkColor":"submenuLinkColor"]:e})})),(0,e.createElement)(V,null,(0,e.createElement)(C,{value:r||p,setValue:e=>n({submenuLinkHoverColor:e})}))),(0,e.createElement)("p",null),(0,e.createElement)(W,null,(0,e.createElement)(j,null,"Link Background Color"),(0,e.createElement)(V,null,(0,e.createElement)(C,{value:u||b,setValue:e=>n({submenuLinkBackgroundColor:e})})),(0,e.createElement)(V,null,(0,e.createElement)(C,{value:i||k,setValue:e=>n({submenuLinkHoverBackgroundColor:e})}))),(0,e.createElement)(T,null),(0,e.createElement)("p",null),(0,e.createElement)(H,{label:O("Container Padding"),values:c,onChange:e=>n({submenuContainerPadding:e})}),(0,e.createElement)("p",null),(0,e.createElement)(H,{label:O("Link Padding"),values:s||E,onChange:e=>n({submenuLinkPadding:e})}),(0,e.createElement)("p",null),(0,e.createElement)(H,{label:O("Link Margin"),values:d||v,onChange:e=>n({submenuLinkMargin:e})}))};I.attributeSchema={submenuFullWidth:{type:"boolean"},submenuContainerBackgroundColor:{type:"string"},submenuLinkColor:{type:"string"},submenuLinkHoverColor:{type:"string"},submenuLinkBackgroundColor:{type:"string"},submenuLinkHoverBackgroundColor:{type:"string"},mobileSubmenuLinkColor:{type:"string"},submenuContainerPadding:{type:"object",default:k},submenuLinkPadding:{type:"object",default:k},submenuLinkMargin:{type:"object",default:k},submenuTextColor:{type:"string"},submenuHoverTextColor:{type:"string"},submenuBackgroundColor:{type:"string"},submenuHoverBackgroundColor:{type:"string"},submenuTextPadding:{type:"object",default:k},submenuTextMargin:{type:"object",default:k}};const{__:N}=wp.i18n,{addFilter:A}=wp.hooks,{createHigherOrderComponent:D}=wp.compose,{Fragment:R}=wp.element,{InspectorControls:U}=wp.blockEditor||wp.editor,{PanelBody:G,ToggleControl:q}=wp.components,J=D((t=>n=>{if("core/image"!==n.name)return(0,e.createElement)(t,{...n});const{attributes:l,setAttributes:a}=n,{lazyLoad:o}=l;return(0,e.createElement)(R,null,(0,e.createElement)(t,{...n}),(0,e.createElement)(U,null,(0,e.createElement)(G,{title:N("Loading Settings","blaze-commerce"),initialOpen:!1},(0,e.createElement)(q,{label:N("Enable Lazy Loading","blaze-commerce"),checked:o,onChange:e=>a({lazyLoad:e}),help:N(o?"Image will be lazy loaded.":"Image will load immediately.","blaze-commerce")}))))}),"withLazyLoadControl");A("blocks.registerBlockType","blaze-commerce/image-lazy-load/add-attribute",(function(e,t){return"core/image"!==t||e.attributes&&(e.attributes=Object.assign(e.attributes,{lazyLoad:{type:"boolean",default:!0}})),e})),A("editor.BlockEdit","blaze-commerce/image-lazy-load/add-control",J),A("blocks.getSaveContent.extraProps","blaze-commerce/image-lazy-load/add-lazy-load-prop",(function(e,t,n){if("core/image"!==t.name)return e;const l=void 0===n.lazyLoad||n.lazyLoad;return e.loading=l?"lazy":"eager",e})),A("blocks.getBlockAttributes","blaze-commerce/image-lazy-load/migrate-attributes",(function(e,t){return"core/image"!==t.name?e:void 0===e.lazyLoad?{...e,lazyLoad:!0}:e}));const{createHigherOrderComponent:K}=wp.compose,{Fragment:Q}=wp.element,{InspectorControls:X,store:Y}=wp.editor,{addFilter:Z}=wp.hooks,{select:$}=wp.data,ee=["maxmegamenu/location"];Z("blocks.registerBlockType","extend-block-example/attribute/spacing",((e,t)=>ee.includes(t)?(e.attributes=Object.assign(e.attributes,Object.assign({},a.attributeSchema,s.attributeSchema,S.attributeSchema,I.attributeSchema)),e):e)),Z("editor.BlockEdit","extend-block-example/with-spacing-control",K((t=>n=>ee.includes(n.name)?(0,e.createElement)(Q,null,(0,e.createElement)(t,{...n}),(0,e.createElement)(X,null,(0,e.createElement)(a,{...n}),(0,e.createElement)(S,{...n}),(0,e.createElement)(I,{...n}),(0,e.createElement)(s,{...n}))):(0,e.createElement)(t,{...n})),"withSpacingControl")),Z("blocks.getSaveContent.extraProps","extend-block-example/get-save-content/extra-props",((e,t,n)=>{if(!ee.includes(t.name))return e;const l={small:"5px",medium:"15px",large:"30px"};return n.spacing in l&&(e=Object.assign(e,{style:{"margin-bottom":l[n.spacing]}})),e}))})();