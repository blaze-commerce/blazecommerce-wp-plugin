(()=>{"use strict";var e,t={230:(e,t,l)=>{var r=l(997),a=l(609),i=l(723),n=l(715),o=l(427),c=l(87);const m=JSON.parse('{"UU":"blaze-commerce/service-features"}');(0,r.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:t}){const{items:l,align:r,itemsDirection:m,containerClass:s,itemClass:d,showDivider:u,dividerColor:g}=e,p=(0,n.useBlockProps)({className:"w-full",style:{width:"100%"}}),[v,h]=(0,c.useState)(l.length>0?l[0].id:null),b=(0,c.useCallback)((()=>{const e={id:`item-${Date.now()}`,logo:{id:"",url:"",alt:""},text:"Service Feature",triggerType:"link",triggerLink:"#",triggerTarget:"",triggerRichText:""},r=[...l,e];t({items:r}),h(e.id)}),[l,t]),_=(0,c.useCallback)((e=>{const r=l.filter((t=>t.id!==e));t({items:r}),e===v&&h(r.length>0?r[0].id:null)}),[l,v,t]),x=(0,c.useCallback)(((e,r,a)=>{t({items:l.map((t=>{if(t.id===e){if(r.includes(".")){const[e,l]=r.split(".");return{...t,[e]:{...t[e],[l]:a}}}return{...t,[r]:a}}return t}))})}),[l,t]),f=(0,c.useMemo)((()=>l.find((e=>e.id===v))||null),[l,v]),E=(0,c.useMemo)((()=>[{label:(0,i.__)("Left","blaze-commerce"),value:"left"},{label:(0,i.__)("Center","blaze-commerce"),value:"center"},{label:(0,i.__)("Right","blaze-commerce"),value:"right"}]),[]),C=(0,c.useMemo)((()=>[{label:(0,i.__)("Horizontal (Side by Side)","blaze-commerce"),value:"horizontal"},{label:(0,i.__)("Vertical (Stacked)","blaze-commerce"),value:"vertical"}]),[]),w=(0,c.useMemo)((()=>[{label:(0,i.__)("Link","blaze-commerce"),value:"link"},{label:(0,i.__)("Shipping","blaze-commerce"),value:"shipping"},{label:(0,i.__)("Text","blaze-commerce"),value:"text"}]),[]),z=(0,c.useMemo)((()=>l.map(((e,t)=>({label:(0,i.__)("Item","blaze-commerce")+" "+(t+1)+(e.text?` - ${e.text}`:""),value:e.id})))),[l]),k=(0,c.useCallback)((e=>{if(console.log("Media received:",e),console.log("Selected item before:",f),f&&e&&e.url){console.log("Updating with URL:",e.url);const r={id:e.id||"",url:e.url,alt:e.alt||e.title||""};console.log("New logo object:",r),t({items:l.map((e=>e.id===f.id?{...e,logo:r}:e))})}else console.log("Conditions not met:",{hasSelectedItem:!!f,hasMedia:!!e,hasMediaUrl:!(!e||!e.url)})}),[f,l,t]),y=(0,c.useCallback)((()=>{if(f){const e={id:"",url:"",alt:""};t({items:l.map((t=>t.id===f.id?{...t,logo:e}:t))})}}),[f,l,t]);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n.InspectorControls,null,(0,a.createElement)(o.PanelBody,{title:(0,i.__)("Service Features Settings","blaze-commerce"),initialOpen:!0},(0,a.createElement)(o.SelectControl,{label:(0,i.__)("Items Direction","blaze-commerce"),value:m,options:C,onChange:e=>t({itemsDirection:e}),help:(0,i.__)("How multiple items are arranged","blaze-commerce")}),(0,a.createElement)(o.__experimentalDivider,null),(0,a.createElement)(o.SelectControl,{label:(0,i.__)("Alignment","blaze-commerce"),value:r,options:E,onChange:e=>t({align:e}),help:(0,i.__)("How items are aligned within the container","blaze-commerce")}),(0,a.createElement)(o.Button,{variant:"primary",className:"add-service-feature-sidebar",onClick:b,icon:"plus",style:{marginTop:"10px",width:"100%"}},(0,i.__)("Add Service Feature","blaze-commerce"))),(0,a.createElement)(o.PanelBody,{title:(0,i.__)("Styling","blaze-commerce"),initialOpen:!1},(0,a.createElement)(o.TextControl,{label:(0,i.__)("Container CSS Classes","blaze-commerce"),value:s,onChange:e=>t({containerClass:e}),help:(0,i.__)("Add Tailwind CSS classes for the main container","blaze-commerce"),placeholder:"flex gap-4 p-4"}),(0,a.createElement)(o.TextControl,{label:(0,i.__)("Item CSS Classes","blaze-commerce"),value:d,onChange:e=>t({itemClass:e}),help:(0,i.__)("Add Tailwind CSS classes for each item container","blaze-commerce"),placeholder:"bg-white rounded-lg shadow-md p-6"}),(0,a.createElement)(o.__experimentalDivider,null),(0,a.createElement)(o.ToggleControl,{label:(0,i.__)("Show Divider Between Items","blaze-commerce"),checked:u,onChange:e=>t({showDivider:e}),help:(0,i.__)("Add a border/divider line between items","blaze-commerce")}),u&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,(0,i.__)("Divider Color","blaze-commerce")),(0,a.createElement)(o.ColorPicker,{color:g,onChange:e=>t({dividerColor:e}),disableAlpha:!1}))),l.length>0&&f&&(0,a.createElement)(o.PanelBody,{title:(0,i.__)("Service Feature Items","blaze-commerce"),initialOpen:!0},(0,a.createElement)("div",{className:"service-features-item-selector"},(0,a.createElement)(o.SelectControl,{label:(0,i.__)("Select Item to Edit","blaze-commerce"),value:v,options:z,onChange:h})),(0,a.createElement)("div",{className:"service-feature-item-settings"},(0,a.createElement)("div",{className:"service-feature-item-header"},(0,a.createElement)("h3",null,(0,i.__)("Item","blaze-commerce")," #",l.findIndex((e=>e.id===f.id))+1),(0,a.createElement)(o.Button,{isDestructive:!0,onClick:()=>_(f.id),icon:"trash",label:(0,i.__)("Remove item","blaze-commerce")})),(0,a.createElement)(o.__experimentalDivider,null),(0,a.createElement)("div",{className:"service-feature-logo"},(0,a.createElement)("p",null,(0,i.__)("Logo","blaze-commerce")),(0,a.createElement)(n.MediaUploadCheck,null,(0,a.createElement)(n.MediaUpload,{onSelect:k,allowedTypes:["image"],value:f.logo.id||f.logo.url,render:({open:e})=>(0,a.createElement)("div",{className:"logo-upload-container"},f.logo.url?(0,a.createElement)("div",{className:"logo-preview"},(0,a.createElement)("img",{src:f.logo.url,alt:f.logo.alt,style:{maxHeight:"80px",maxWidth:"100%",objectFit:"contain"}}),(0,a.createElement)("div",{className:"logo-actions"},(0,a.createElement)(o.Button,{onClick:e,variant:"secondary",size:"small"},(0,i.__)("Replace","blaze-commerce")),(0,a.createElement)(o.Button,{onClick:y,isDestructive:!0,size:"small"},(0,i.__)("Remove","blaze-commerce")))):(0,a.createElement)(o.Button,{onClick:e,icon:"format-image",className:"logo-upload-button",style:{width:"100%",justifyContent:"center",height:"80px"}},(0,i.__)("Upload Logo","blaze-commerce")))}))),(0,a.createElement)(o.__experimentalDivider,null),(0,a.createElement)("div",{className:"service-feature-text"},(0,a.createElement)(o.TextControl,{label:(0,i.__)("Text","blaze-commerce"),value:f.text,onChange:e=>x(f.id,"text",e)})),(0,a.createElement)(o.__experimentalDivider,null),(0,a.createElement)("div",{className:"service-feature-trigger"},(0,a.createElement)(o.SelectControl,{label:(0,i.__)("Trigger Type","blaze-commerce"),value:f.triggerType,options:w,onChange:e=>x(f.id,"triggerType",e)}),"link"===f.triggerType&&(0,a.createElement)(o.TextControl,{label:(0,i.__)("Link URL","blaze-commerce"),value:f.triggerLink,onChange:e=>x(f.id,"triggerLink",e)}),"text"===f.triggerType&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"10px",minHeight:"100px",backgroundColor:"#fff"}},(0,a.createElement)(n.RichText,{value:f.triggerRichText,onChange:e=>x(f.id,"triggerRichText",e),placeholder:(0,i.__)("Enter rich text content here...","blaze-commerce"),allowedFormats:["core/bold","core/italic","core/link","core/underline"]}))))))),(0,a.createElement)("div",{...p},(0,a.createElement)("div",{className:`flex ${"vertical"===m?"flex-col":"flex-row flex-wrap"} ${(()=>{switch(r){case"center":return"horizontal"===m?"justify-center":"items-center text-center";case"right":return"horizontal"===m?"justify-end":"items-end text-right";default:return"horizontal"===m?"justify-start":"items-start text-left"}})()} ${s}`},0===l.length?(0,a.createElement)(o.Placeholder,{icon:"admin-generic",label:(0,i.__)("Service Features","blaze-commerce"),instructions:(0,i.__)("Add service features using the sidebar controls.","blaze-commerce")},(0,a.createElement)(o.Button,{variant:"primary",onClick:b,icon:"plus"},(0,i.__)("Add Service Feature","blaze-commerce"))):l.map(((e,t)=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{key:e.id,className:`flex flex-row items-center relative cursor-pointer ${d}`,onClick:()=>h(e.id)},e.logo.url&&(0,a.createElement)("img",{src:e.logo.url,alt:e.logo.alt,className:"object-contain flex-shrink-0"}),e.text&&(0,a.createElement)("div",{className:"m-0"},e.text),(0,a.createElement)("div",{className:"absolute top-1 right-1"},(0,a.createElement)("span",{className:"flex items-center justify-center w-6 h-6 bg-blue-500 text-white rounded-full text-xs font-bold"},t+1))),u&&t<l.length-1&&(0,a.createElement)("div",{className:"vertical"===m?"w-full h-px my-4":"w-px h-[30px] mx-4",style:{backgroundColor:g}})))))))},save:function({attributes:e}){const{items:t,align:l,itemsDirection:r,containerClass:i,itemClass:o,showDivider:c,dividerColor:m}=e,s=n.useBlockProps.save({className:"w-full",style:{width:"100%"}});return(0,a.createElement)("div",{...s},(0,a.createElement)("div",{className:`flex ${"vertical"===r?"flex-col":"flex-row flex-wrap"} ${(()=>{switch(l){case"center":return"horizontal"===r?"justify-center":"items-center text-center";case"right":return"horizontal"===r?"justify-end":"items-end text-right";default:return"horizontal"===r?"justify-start":"items-start text-left"}})()} ${i}`},t.map(((e,l)=>(0,a.createElement)("div",{key:e.id},(0,a.createElement)("div",{className:`flex flex-row items-center ${o}`},e.logo.url&&(0,a.createElement)("div",{className:"flex-shrink-0"},(0,a.createElement)("img",{src:e.logo.url,alt:e.logo.alt,className:"object-contain"})),(0,a.createElement)("div",{className:"flex-1"},e.text&&(0,a.createElement)("div",null,(0,a.createElement)("p",{className:"m-0"},e.text)),"text"===e.triggerType&&e.triggerRichText&&(0,a.createElement)("div",{dangerouslySetInnerHTML:{__html:e.triggerRichText}}))),c&&l<t.length-1&&(0,a.createElement)("div",{className:"vertical"===r?"w-full h-px my-4":"w-px h-full mx-4",style:{backgroundColor:m}}))))))}})},609:e=>{e.exports=window.React},715:e=>{e.exports=window.wp.blockEditor},997:e=>{e.exports=window.wp.blocks},427:e=>{e.exports=window.wp.components},87:e=>{e.exports=window.wp.element},723:e=>{e.exports=window.wp.i18n}},l={};function r(e){var a=l[e];if(void 0!==a)return a.exports;var i=l[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,l,a,i)=>{if(!l){var n=1/0;for(s=0;s<e.length;s++){for(var[l,a,i]=e[s],o=!0,c=0;c<l.length;c++)(!1&i||n>=i)&&Object.keys(r.O).every((e=>r.O[e](l[c])))?l.splice(c--,1):(o=!1,i<n&&(n=i));if(o){e.splice(s--,1);var m=a();void 0!==m&&(t=m)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[l,a,i]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={477:0,350:0};r.O.j=t=>0===e[t];var t=(t,l)=>{var a,i,[n,o,c]=l,m=0;if(n.some((t=>0!==e[t]))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(c)var s=c(r)}for(t&&t(l);m<n.length;m++)i=n[m],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(s)},l=globalThis.webpackChunklocation=globalThis.webpackChunklocation||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=r.O(void 0,[350],(()=>r(230)));a=r.O(a)})();