# WordPress Plugin Versioning Strategy

## Overview

The BlazeCommerce WordPress plugin follows a **user-focused versioning strategy** that only triggers version bumps for changes that impact end users or plugin functionality. This approach aligns with WordPress plugin directory best practices and semantic versioning principles.

## üéØ **Core Principle**

**Version bumps should only occur when there is tangible value or impact for plugin users.**

## üìã **What Triggers Version Bumps**

### ‚úÖ **User-Facing Changes** (Triggers Version Bump)

#### **Plugin Functionality**
- `app/**` - Core PHP plugin logic and features
- `blocks/**` - Gutenberg blocks and block functionality  
- `views/**` - Template files and UI components
- `assets/**` - CSS, JavaScript, and image assets
- `lib/**` - Plugin libraries and helper functions
- `blaze-wooless.php` - Main plugin file

#### **User-Visible Documentation**
- `README.md` - Plugin description and user instructions
- `license.txt` - License changes that affect users

#### **Dependencies That Affect Functionality**
- `composer.json` - When adding/removing dependencies that change plugin behavior
- Changes to dependencies that fix security issues or add user-facing features

### ‚ùå **Internal Changes** (Does NOT Trigger Version Bump)

#### **CI/CD and Development Tooling**
- `.github/**` - GitHub Actions, workflows, issue templates
- `scripts/**` - Build scripts, version management, utilities
- `tests/**` - Unit tests, integration tests
- `test/**` - Test files and fixtures
- `bin/**` - Development binaries and tools

#### **Internal Documentation**
- `docs/**` - Developer documentation, API docs, guides
- `CONTRIBUTING.md` - Contribution guidelines
- `TODO` - Internal task lists
- `*_SUMMARY.md` - Implementation summaries
- `*_EXPLANATION.md` - Technical explanations

#### **Development Configuration**
- `phpunit.xml` - Test runner configuration
- `jest.config.js` - JavaScript test configuration
- `github-workflows-tests.yml` - Workflow testing
- `test.html` - HTML test files for development

#### **Auto-Generated Files**
- `package.json` - Managed by version bump process
- `package-lock.json` - Auto-generated dependency lock
- `composer.lock` - Auto-generated dependency lock
- `vendor/**` - Composer dependencies
- `blocks/yarn.lock` - Auto-generated lock file
- `CHANGELOG.md` - Auto-generated by version bump process

#### **Git and Editor Configuration**
- `.gitignore` - Git ignore rules
- `.editorconfig` - Editor configuration
- `**/.DS_Store` - System files

#### **AI Assistant and Development Environment**
- `.augment/**` - AI assistant context files and documentation organization
- `.claude/**` - Claude AI configuration and settings
- `.vscode/**` - Visual Studio Code editor settings and workspace configuration

## üîÑ **Semantic Versioning Application**

### **MAJOR (X.0.0) - Breaking Changes**
```bash
# Examples:
feat!: change plugin API structure
feat!: remove deprecated functions
feat!: require minimum WordPress 6.0
```

### **MINOR (X.Y.0) - New Features**
```bash
# Examples:
feat: add new product filter block
feat: add bulk export functionality
feat: add new integration with service X
```

### **PATCH (X.Y.Z) - Bug Fixes**
```bash
# Examples:
fix: resolve checkout calculation error
fix: correct product image display issue
fix: improve performance of search queries
```

### **No Version Bump - Internal Changes**
```bash
# Examples:
ci: update GitHub Actions to v4
test: add unit tests for product filters
docs: update API documentation
refactor: improve code organization (no functional changes)
```

## üéØ **Benefits of This Strategy**

### **For End Users**
- ‚úÖ **Meaningful Updates**: Only see updates when there's actual value
- ‚úÖ **Reduced Update Fatigue**: Fewer unnecessary notifications
- ‚úÖ **Clear Value Proposition**: Each update brings tangible improvements
- ‚úÖ **Predictable Impact**: Version numbers indicate the scope of changes

### **For Developers**
- ‚úÖ **Clean Version History**: Versions reflect functional milestones
- ‚úÖ **Semantic Versioning Compliance**: Proper MAJOR.MINOR.PATCH progression
- ‚úÖ **WordPress Standards**: Aligns with plugin directory expectations
- ‚úÖ **Professional Appearance**: Demonstrates mature development practices

### **For Plugin Directory**
- ‚úÖ **Review Efficiency**: Reviewers see meaningful changes only
- ‚úÖ **User Experience**: Reduces update noise for users
- ‚úÖ **Quality Signal**: Shows thoughtful release management
- ‚úÖ **Compliance**: Follows WordPress plugin guidelines

## üîß **Implementation Details**

### **Workflow Configuration**
The auto-version workflow uses `paths-ignore` to exclude internal changes:

```yaml
on:
  push:
    branches: [ main ]
    paths-ignore:
      # Internal tooling, docs, tests, auto-generated files
      - '.github/**'
      - 'scripts/**'
      - 'docs/**'
      # ... (see full list in .github/workflows/auto-version.yml)
```

### **Manual Override Options**
Developers can still control versioning when needed:

```bash
# Skip version bump for user-facing changes (rare)
git commit -m "feat: add new feature [no version]"

# Force version bump for internal changes (rare)
git commit -m "ci: critical security update [force version]"
```

## üìä **Examples**

### **Scenario 1: User-Facing Bug Fix**
```bash
Files Changed: app/Woocommerce.php, assets/css/checkout.css
Commit: "fix: resolve checkout button styling issue"
Result: PATCH version bump (1.9.1 ‚Üí 1.9.2) ‚úÖ
Rationale: Users experience the fix directly
```

### **Scenario 2: Internal Test Addition**
```bash
Files Changed: tests/unit/test-checkout.php
Commit: "test: add unit tests for checkout functionality"
Result: No version bump ‚ùå
Rationale: No user-facing impact
```

### **Scenario 3: New Feature**
```bash
Files Changed: app/Features/ProductFilter.php, blocks/src/product-filter/
Commit: "feat: add advanced product filtering block"
Result: MINOR version bump (1.9.2 ‚Üí 1.10.0) ‚úÖ
Rationale: New functionality for users
```

### **Scenario 4: Documentation Update**
```bash
Files Changed: docs/api/filters.md, README.md
Commit: "docs: update API documentation and user guide"
Result: No version bump for docs/, PATCH bump for README.md ‚úÖ
Rationale: README.md affects users, internal docs don't
```

### **Scenario 5: CI/CD Improvement**
```bash
Files Changed: .github/workflows/auto-version.yml, scripts/test-version.js
Commit: "ci: improve auto-increment version logic"
Result: No version bump ‚ùå
Rationale: Internal tooling improvement
```

### **Scenario 6: AI Assistant Configuration**
```bash
Files Changed: .augment/rules.md, .claude/settings.local.json, .vscode/settings.json
Commit: "chore: update AI assistant context and editor settings"
Result: No version bump ‚ùå
Rationale: Development environment configuration, no user impact
```

## üöÄ **Best Practices**

### **For Developers**
1. **Think User-First**: Ask "Does this change affect plugin users?"
2. **Use Conventional Commits**: Clear commit messages help automatic categorization
3. **Group Related Changes**: Combine user-facing changes in single commits when logical
4. **Document User Impact**: Explain user benefits in commit messages

### **For Reviewers**
1. **Validate Impact**: Ensure version bumps align with user impact
2. **Check Semantic Versioning**: Verify MAJOR/MINOR/PATCH categorization is correct
3. **Review Exclusions**: Confirm internal changes don't accidentally trigger bumps

### **For Release Management**
1. **Monitor Version Frequency**: Ensure reasonable release cadence
2. **Communicate Changes**: Use CHANGELOG.md to explain user benefits
3. **Test Before Release**: Validate functionality before version bumps
4. **Consider Timing**: Group related changes when possible

## üìã **WordPress Plugin Directory Compliance**

### **Claude AI Recommendation: Enhanced Directory Standards**

The versioning strategy has been enhanced to meet WordPress Plugin Directory requirements:

#### **‚úÖ Version Frequency Guidelines**
- **Stable Releases**: Only user-facing changes trigger version bumps
- **Prerelease Versions**: Alpha/beta/rc versions for development branches
- **Update Cadence**: Reasonable release frequency to avoid update fatigue
- **Meaningful Changes**: Each version provides tangible user value

#### **‚úÖ Security and Performance**
- **Rate Limiting**: Git operations are rate-limited to prevent abuse
- **Memory Management**: Hard limits and streaming for large repositories
- **Performance Monitoring**: Automatic performance metrics collection
- **Error Handling**: Comprehensive error reporting and recovery

#### **‚úÖ Documentation Standards**
- **Clear Changelogs**: Auto-generated with user-friendly descriptions
- **Version Explanations**: Semantic versioning compliance documentation
- **Migration Guides**: Clear upgrade paths for breaking changes
- **Troubleshooting**: Comprehensive debugging and resolution guides

#### **‚úÖ Quality Assurance**
- **Automated Testing**: 7 comprehensive test suites with 100% pass rate
- **Conflict Resolution**: Bulletproof version conflict handling
- **Validation**: Multi-layer version format and integrity validation
- **Rollback Support**: Safe rollback procedures for failed releases

### **Plugin Directory Review Checklist**

When submitting to WordPress Plugin Directory, this versioning system ensures:

- ‚úÖ **Semantic Versioning**: Proper MAJOR.MINOR.PATCH progression
- ‚úÖ **Meaningful Updates**: Only user-impacting changes trigger versions
- ‚úÖ **Professional Standards**: Industry-standard release management
- ‚úÖ **Security Compliance**: Rate limiting and input validation
- ‚úÖ **Performance Optimization**: Memory limits and streaming support
- ‚úÖ **Documentation Quality**: Comprehensive guides and troubleshooting
- ‚úÖ **Testing Coverage**: Automated test suites with full coverage

## üîÑ **Continuous Improvement**

This versioning strategy should be reviewed periodically to ensure it continues to serve users and developers effectively. Consider feedback from:

- **User Update Patterns**: Are users updating regularly?
- **Plugin Directory Feedback**: Any reviewer comments on versioning?
- **Developer Experience**: Is the strategy helping or hindering development?
- **Community Standards**: Evolution of WordPress plugin best practices
- **Performance Metrics**: Monitor system performance and optimization opportunities

The goal is always to provide maximum value to users while maintaining professional development standards, semantic versioning compliance, and WordPress Plugin Directory requirements.
